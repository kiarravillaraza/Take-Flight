<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocktail Selector</title>
</head>
<body>

    <label for="liquorCategory">Select Liquor Category:</label>
    <select id="liquorCategory" onchange="saveToSessionStorage()">
        <option value="gin">Gin</option>
        <option value="vodka">Vodka</option>
        <option value="brandy">Brandy</option>
        <option value="whiskey">Whiskey</option>
        <option value="tequila">Tequila</option>
        <option value="rum">Rum</option>
    </select>

    <label for="amount">Enter Amount of Drinks:</label>
    <input type="number" id="amount" min="1" value="1" onchange="saveToSessionStorage()">

    <div id="result"></div>

    <script>
        function saveToSessionStorage() {
            const numDrinksInput = document.getElementById('amount').value;
            const alcoholInputs = document.getElementById('liquorCategory').value;

            sessionStorage.setItem('numDrinksInput', numDrinksInput);
            sessionStorage.setItem('alcoholInputs', alcoholInputs);

            fetchDrinks();
        }

        function fetchDrinks() {
            const category = sessionStorage.getItem('alcoholInputs');
            const amount = sessionStorage.getItem('numDrinksInput') || 1;

            const apiUrl = `https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${category}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const drinks = data.drinks.slice(0, amount);
                    displayDrinks(drinks);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        function displayDrinks(drinks) {
            const resultContainer = document.getElementById('result');
            resultContainer.innerHTML = '';

            if (drinks.length === 0) {
                resultContainer.innerHTML = 'No drinks found.';
                return;
            }

            const ul = document.createElement('ul');
            drinks.forEach(drink => {
                const li = document.createElement('li');
                li.textContent = drink.strDrink;
                ul.appendChild(li);
            });

            resultContainer.appendChild(ul);
        }

        fetchDrinks();
    </script>

</body>
</html>
