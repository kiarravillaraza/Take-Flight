<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocktail Selector</title>
</head>
<body>

    <label for="liquorCategory">Select Liquor Category:</label>
    <select id="liquorCategory">
        <option value="gin">Gin</option>
        <option value="vodka">Vodka</option>
        <option value="brandy">Brandy</option>
        <option value="whiskey">Whiskey</option>
        <option value="tequila">Tequila</option>
        <option value="rum">Rum</option>
    </select>

    <label for="amount">Enter Amount of Drinks:</label>
    <input type="number" id="amount" min="1" value="1">

    <button onclick="fetchDrinks()">Get Drinks</button>

    <div id="result"></div>


    <script>
        function fetchDrinks() {
            // Retrieve values from sessionStorage
            const numDrinksInput = sessionStorage.getItem('numDrinksInput');
            const alcoholInputs = sessionStorage.getItem('alcoholInputs');



            // Set the retrieved values to the respective elements
            document.getElementById('amount').value = numDrinksInput || 1;

            // If alcoholInputs is present in sessionStorage, set the selected value
            if (alcoholInputs) {
                document.getElementById('liquorCategory').value = alcoholInputs;
            }

            const category = document.getElementById('liquorCategory').value;
            const amount = document.getElementById('amount').value;

            // Define the API URLs for each liquor category
            const apiUrls = {
                gin: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=gin',
                vodka: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=vodka',
                brandy: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=brandy',
                whiskey: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=whiskey',
                tequila: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=tequila',
                rum: 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=rum'
            };

            // Select the appropriate URL based on the user's choice or the stored value
            const apiUrl = apiUrls[category || alcoholInputs];

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const drinks = data.drinks.slice(0, amount);
                    displayDrinks(drinks);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }

        function displayDrinks(drinks) {
            const resultContainer = document.getElementById('result');
            resultContainer.innerHTML = '';

            if (drinks.length === 0) {
                resultContainer.innerHTML = 'No drinks found.';
                return;
            }

            const ul = document.createElement('ul');
            drinks.forEach(drink => {
                const li = document.createElement('li');
                li.textContent = drink.strDrink;
                ul.appendChild(li);
            });

            resultContainer.appendChild(ul);
        }

        // Call fetchDrinks on page load
        fetchDrinks();
    </script>

</body>
</html>
